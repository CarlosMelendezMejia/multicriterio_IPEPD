{% extends "base.html" %}
{% block title %}Categorías | {{ instrumento_nombre }}{% endblock %}

{% block body %}
<div class="page-header">
  <div>
  <div class="section-kicker mb-1">Categorías</div>
  <h1 class="h4 mb-1 page-title">{{ instrumento_nombre }}</h1>
  <p class="page-lead">
    Asigna valores únicos de <strong>1 a N</strong> para rankear la importancia de cada categoría.
  </p>
  </div>
</div>

<div class="card app-card">
  <div class="card-body">
    <div class="d-flex justify-content-between align-items-center mb-2">
      <div class="text-muted small" id="statusText">Cargando categorías...</div>
      <div class="text-muted small" id="evalIdText"></div>
    </div>

    <div id="categoriasContainer" class="mt-3"></div>

    <div class="d-flex justify-content-end gap-2 mt-4">
      <a class="btn btn-outline-secondary" href="{{ url_for('eval.dashboard') }}">Volver al menú</a>
      <button class="btn btn-primary" id="btnGuardarContinuar">Guardar y continuar</button>
    </div>
  </div>
</div>

<input type="hidden" id="instrumentoId" value="{{ instrumento_id }}">
{% endblock %}

{% block scripts %}
<script>
  window.IPEPD_CTX = {
    instrumentoId: Number(document.getElementById("instrumentoId").value),
  };
</script>
<script src="{{ url_for('static', filename='js/categorias.js') }}"></script>
{% endblock %}
